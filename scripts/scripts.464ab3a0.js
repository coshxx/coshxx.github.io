(function(){"use strict";angular.module("incrementalApp",["ngAnimate","ngRoute","angulartics","angulartics.google.analytics","ui.bootstrap"]).config(["$routeProvider",function(a){return a.when("/",{redirectTo:"/tab/fish/fish"}).when("/tab/fish/:unit",{templateUrl:"views/unit.html",controller:"UnitCtrl",controllerAs:"unit"}).when("/tab/dollars",{redirectTo:"/tab/dollars/dollar"}).when("/tab/dollars/:unit",{templateUrl:"views/officeunit.html",controller:"UnitCtrl",controllerAs:"unit"}).when("/tab/pearls",{templateUrl:"views/pearltab.html",controller:"UnitCtrl",controllerAs:"unit"}).when("/tab/research",{templateUrl:"views/research.html",controller:"MainCtrl",controllerAs:"main"}).when("/tab/options",{templateUrl:"views/options.html",controller:"OptionsCtrl",controllerAs:"options"}).when("/tab/statistics",{templateUrl:"views/statistics.html",controller:"OptionsCtrl",controllerAs:"options"}).when("/tab/changelog",{templateUrl:"views/changelog.html"}).when("/tab/cheat",{templateUrl:"views/cheats.html",controller:"OptionsCtrl",controllerAs:"options"}).otherwise({redirectTo:"/"})}]),angular.module("incrementalApp").config(function(){return window.ga("create",window.ga.trackingId,"auto")})}).call(this),function(){"use strict";angular.module("incrementalApp").controller("MainCtrl",["game","user","$timeout","$location",function(a,b,c,d){this.alerts=[{type:"success",msg:"v.009: Secret ascension stuff. New Buttons. Balance. "},{type:"danger",msg:"Don't use your old savegames for new versions. It will break things."}],this.user=b,this.game=a,this.closeAlert=function(a){return function(b){return a.alerts={}}}(this),c(this.closeAlert,2e4),this.click=function(a){return d.url(a)}}])}.call(this),function(){"use strict";angular.module("incrementalApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]})}.call(this),function(){"use strict";var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("incrementalApp").factory("user",["$log","$timeout","units",function(b,c,d){var e;return new(e=function(){function e(){this.sellOne=a(this.sellOne,this),this.catchOne=a(this.catchOne,this),this.init=a(this.init,this),this.init()}return e.prototype.init=function(){return this.units=d,this.isFishing=!1,this.isSelling=!1,b.debug("User creation finished.")},e.prototype.buy=function(a,b){var c,e,f,g;if(a.unlocked=!0,1===b){if(d.dollar.owned-a.price>=0)return d.dollar.owned-=a.price,a.price*=a.pricefactor,a.owned+=b}else{for(g=0,e=c=0,f=b-1;f>=0?f>=c:c>=f;e=f>=0?++c:--c)g+=a.price*Math.pow(a.pricefactor,e);if(d.dollar.owned-g>=0)return d.dollar.owned-=g,a.price=a.price*Math.pow(a.pricefactor,b),a.owned+=b}},e.prototype.goFish=function(){return this.isFishing=!0,c(this.catchOne,500)},e.prototype.catchOne=function(){return this.isFishing=!1,d.fish.owned+=1,d.fish.total+=1},e.prototype.sellFish=function(){return this.isSelling=!0,c(this.sellOne,50)},e.prototype.sellOne=function(){return this.isSelling=!1,d.fish.owned-1>=0?(d.fish.owned-=1,d.dollar.owned+=1):void 0},e.prototype.reset=function(){return this.init()},e}())}])}.call(this),function(){"use strict";var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("incrementalApp").factory("game",["units","$interval","$filter","$log",function(b,c,d,e){var f;return new(f=function(){function e(){this.fisherTick=a(this.fisherTick,this),c(this.fisherTick,50),c(this.officeworkerTick,1e3),this.fishPerSec="(+0/sec)",this.fishSec=0,this.tickrate=20,this.start=new Date,this.tendency=0}var f;return f=function(){return b.fish.total>=b.pearl.nextpearl?(b.pearl.owned+=1,b.pearl.nextpearl*=b.pearl.nextpearlfactor):void 0},e.prototype.fisherTick=function(){var a,c,e,g;c=new Date-this.start,this.start=new Date,this.fishSec=0;for(a in b)null!=b[a].efficiency&&"officeworker"!==a&&(b.fish.owned+=b[a].owned*b[a].efficiency*(1+b[a].pearlupgrades/10)/this.tickrate*c/50,b.fish.total+=b[a].owned*b[a].efficiency*(1+b[a].pearlupgrades/10)/this.tickrate*c/50,this.fishSec+=b[a].owned*b[a].efficiency*(1+b[a].pearlupgrades/10));g=this.fishSec,this.fishSec=d("floorspecial")(this.fishSec),this.fishPerSec="(+"+this.fishSec+"/sec)",e=b.officeworker.owned*b.officeworker.efficiency*(1+b.officeworker.pearlupgrades/10),e===g?this.tendency=0:e>g?this.tendency=1:this.tendency=2,f()},e.prototype.officeworkerTick=function(){var a,c,d,e,f;return d=b.fish.owned,a=b.dollar.owned,e=b.officeworker.owned,c=b.officeworker.efficiency*(1+b.officeworker.pearlupgrades/10),f=e*c,d-f>0?(d-=f,a+=f):(a+=d,d=0),b.fish.owned=d,b.dollar.owned=a},e}())}])}.call(this),function(){"use strict";angular.module("incrementalApp").directive("fishtab",function(){return{templateUrl:"views/fishtab.html",restrict:"E"}})}.call(this),function(){"use strict";angular.module("incrementalApp").directive("dollartab",function(){return{restrict:"E",templateUrl:"views/dollartab.html"}})}.call(this),function(){"use strict";angular.module("incrementalApp").filter("floor",function(){return function(a){var b,c,d,e;if(c=["K","M","B","t","q","Q","s","S"],e=Math.floor(a),b=-1,d=1e3,1>e/d)return e;for(;;)if(e/=d,b+=1,!(e>=1e3))break;return e.toPrecision(3)+c[b]}})}.call(this),function(){"use strict";angular.module("incrementalApp").filter("floorspecial",function(){return function(a){var b,c,d,e;switch(!1){case 0!==a:return 0;case!(1>a):return a.toPrecision(1);case!(10>a):return a.toPrecision(2);case!(100>a):return a.toPrecision(3)}if(c=["K","M","B","t","q","Q","s","S"],e=Math.floor(a),b=-1,d=1e3,1>e/d)return e;for(;;)if(e/=d,b+=1,!(e>=1e3))break;return e.toPrecision(3)+c[b]}})}.call(this),function(){"use strict";angular.module("incrementalApp").controller("OptionsCtrl",["units","reset","$log",function(a,b,c){var d;this.allUnits=a,this.importString="Enter save data",this.saveSuccess="",d=JSON.stringify(a),this.saveState=LZString.compressToEncodedURIComponent(d),this.saveData=function(){return localStorage.setItem("fishgame",this.saveState),this.saveSuccess="That worked...maybe"},this.loadData=function(){return this.importString=localStorage.getItem("fishgame"),this["import"]()},this["import"]=function(){var a;return a=LZString.decompressFromEncodedURIComponent(this.importString),a=JSON.parse(a),this.importSave(a)},this.importSave=function(b){var c,d,e,f,g;d=[];for(f in a)e=a[f],d.push(function(){var d;d=[];for(c in e)g=e[c],d.push(a[f][c]=b[f][c]);return d}());return d},this.reset=function(){return b.doResetHard()},this.cheat=function(){return a.dollar.owned+=1e5,a.pearl.owned+=1}}])}.call(this),function(){"use strict";var a;angular.module("incrementalApp").value("units",a={pearl:{name:"Pearl",plural:"Pearls",subtext:"Rich and luxuriant beauty. Drawn up from the bottom of the ocean.",owned:0,active:0,spent:0,nextpearl:1e5,nextpearlfactor:5},fish:{name:"Fish",plural:"Fish",price:0,subtext:"The fish that swims in the ocean.",owned:0,quote:"<Â°))))><",total:0},dollar:{name:"Dollar",plural:"Dollars",owned:0,subtext:"Money makes the world go round."},officeworker:{name:"Office Worker",plural:"Office Workers",price:30,pricefactor:1.35,subtext:"Working 9 to 5 this guy automatically sells your fish.",owned:0,efficiency:2,efficiencyfactor:3,upgradeprice:1e3,upgradefactor:2,quote:"God I hate this job!",tier:0,unlocked:!0,pearlupgrades:0,pearlupgradecost:1},fisher:{name:"Fisher",plural:"Fishers",price:10,pricefactor:1.07,subtext:"The fellow that catches the fish from the depths of the oceans. He uses the classic fishing rod.",owned:0,efficiency:.2,efficiencyfactor:2,upgradeprice:100,upgradefactor:3,quote:"Meh, let's go fishing!",tier:0,unlocked:!0,pearlupgrades:0,pearlupgradecost:1},dynamite:{name:"Dynamite-Fisher",plural:"Dynamite-Fishers",price:150,pricefactor:1.07,subtext:"This guy showed up with dynamite. 'Tis the ancient art of fishing' so he says.",owned:0,efficiency:1.15,efficiencyfactor:2,upgradeprice:1500,upgradefactor:3,quote:"'Cause I'm T.N.T",tier:0,unlocked:!1,pearlupgrades:0,pearlupgradecost:1},boat:{name:"Boat",plural:"Boats",price:1800,pricefactor:1.14,subtext:"A powerful boat that roams the ocean for you.",owned:0,efficiency:13.5,efficiencyfactor:2,upgradeprice:18e3,upgradefactor:3,quote:"Well I'm on the Downeaster Alexa.",tier:0,unlocked:!1,pearlupgrades:0,pearlupgradecost:1},robot:{name:"Robot",plural:"Robots",price:21600,pricefactor:1.13,subtext:"Fish-hunting machines from the future.",owned:0,efficiency:162,efficiencyfactor:2,upgradeprice:216e3,upgradefactor:3,quote:"I'll be back.",tier:0,unlocked:!1,pearlupgrades:0,pearlupgradecost:1},plane:{name:"Plane",plural:"Planes",price:259200,pricefactor:1.12,subtext:"The latest in fishing technology. Hunt from above.",owned:0,efficiency:1944,efficiencyfactor:2,upgradeprice:2592e3,upgradefactor:3,quote:"How does this even work?!",tier:0,unlocked:!1,pearlupgrades:0,pearlupgradecost:1},submarine:{name:"Submarine",plural:"Submarines",price:3110400,pricefactor:1.11,subtext:"The greatest submarine captains",owned:0,efficiency:23328,efficiencyfactor:2,upgradeprice:31104e3,upgradefactor:3,quote:"Re-verify our range to target...one ping only.",tier:0,unlocked:!1,pearlupgrades:0,pearlupgradecost:1},nuke:{name:"Nuke",plural:"Nukes",price:37324800,pricefactor:1.1,subtext:"Attack the ocean.",owned:0,efficiency:279936,efficiencyfactor:2,upgradeprice:373248e3,upgradefactor:3,quote:"Sir, I'm not sure this is a good idea.",tier:0,unlocked:!1,pearlupgrades:0,pearlupgradecost:1}})}.call(this),function(){"use strict";angular.module("incrementalApp").controller("UnitCtrl",["units","$log","$routeParams","user","game","reset",function(a,b,c,d,e,f){this.allUnits=a,this.cur=a[c.unit],this.game=e,this.sellFish=function(){return d.sellFish()},this.buy=function(a,b){return d.buy(a,b)},this.owned=function(b){return a[b].owned},this.getPrice=function(a){return function(b){var c,d,e,f;if(1===b)return a.cur.price;for(f=0,d=c=0,e=b-1;e>=0?e>=c:c>=e;d=e>=0?++c:--c)f+=a.cur.price*Math.pow(a.cur.pricefactor,d);return f}}(this),this.claimPearls=function(){var b,c;return c=a.pearl.owned,b=a.pearl.active,b+=c,c=0,f.doAscend(),a.pearl.owned=0,a.pearl.active=b},this.upgradeUnitWithPearls=function(b){return a.pearl.active-=b.pearlupgradecost,a.pearl.spent+=1,b.pearlupgradecost+=1,b.pearlupgrades+=1}}])}.call(this),function(){"use strict";angular.module("incrementalApp").service("reset",["units","research","$log",function(a,b,c){return this.unitBackup=angular.copy(a),this.researchBackup=angular.copy(b),{doAscend:function(c){return function(){var d,e,f,g;for(f in a){e=a[f];for(d in e)g=e[d],"pearlupgrades"!==d&&"pearlupgradecost"!==d&&(a[f][d]=c.unitBackup[f][d])}return b.tier=0}}(this),doResetHard:function(c){return function(){var d,e,f,g;for(f in a){e=a[f];for(d in e)g=e[d],a[f][d]=c.unitBackup[f][d]}return b.tier=0}}(this)}}])}.call(this),function(){"use strict";angular.module("incrementalApp").directive("flashbutton",function(){return{restrict:"EA",scope:{flashDelay:"=",flashOnSuccess:"="},template:"<button></button>",replace:!0,link:function(a,b,c){return b.find(button.text(c))}}})}.call(this),function(){"use strict";var a;angular.module("incrementalApp").value("research",a={shit:0})}.call(this),function(){"use strict";angular.module("incrementalApp").controller("ResearchCtrl",["$log","units","$timeout",function(a,b,c){this.units=b,this.upgradeUnit=function(a){return b.dollar.owned-a.upgradeprice<0?void 0:(b.dollar.owned-=a.upgradeprice,a.upgradeprice=a.upgradeprice*a.upgradefactor,a.efficiency=a.efficiency*a.efficiencyfactor,a.upgradefactor=2*a.upgradefactor)}}])}.call(this),function(){"use strict";angular.module("incrementalApp").factory("analytics",["$log",function(a){return{something:function(){return 42}}}])}.call(this),angular.module("incrementalApp").run(["$templateCache",function(a){"use strict";a.put("views/about.html",""),a.put("views/changelog.html",'<div class="content"> <h2>Changelog</h2> <h4>v.009 - <span>12/14/2015</span></h4> <ul> <li>Secret ascension stuff...</li> <li>Balance..zZz</li> </ul> <h4>v.008i - <span>12/12/2015</span></h4> <ul> <li>More balancing</li> <li>Buy 10/<s>Buy 100</s> Buttons</li> </ul> <h4>v.007 - <span>12/11/2015</span></h4> <ul> <li>Balancing...</li> </ul> <h4>v.006 - <span>12/11/2015</span></h4> <ul> <li>Quick and dirty balancing</li> </ul> <h4>v.005 - <span>12/11/2015</span></h4> <ul> <li>Research scratched, again...</li> <li>Research prototype 2.0 "mpf"</li> </ul> <ul> <h4>v.004i - <span>12/10/2015</span></h4> <li>Animations</li> <li>Flicker on page load fixed</li> <li>Tickrate upped for fishers (cosmetic)</li> <li>Research-Prototype...not too happy</li> </ul> <h4>v.003i - <span>12/09/2015</span></h4> <ul> <li>Source clean up. Easier to read and edit.</li> <li>Well...that ended in 90% rewrite and took all day. Sigh.</li> <li>Research deactivated...for now</li> </ul> <h4>v.002 - <span>12/08/2015</span></h4> <ul> <li><s>Whole table is now clickable</s> - not 100% yet</li> <li>Fixed fish per sec "exploding"</li> <li>Dropdown Menu </li><li>Go Fish button now deactivates</li> </ul> <h4>v.001 - <span>12/08/2015</span></h4> <ul> <li>Prototype</li> </ul> </div>'),a.put("views/cheats.html",'<div class="content"> <h2>Cheats</h2> <button ng-click="options.cheat()">Give 1K Dollars</button> ;) </div>'),a.put("views/dollars.html",'<div style="width: 20%; float: left; margin-right: 15px"> <table class="table unit-table table-hover"> <tr> <td><a ng-href="#/tab/dollars/officeworker">Office Worker</a></td> <td style="text-align: right">{{main.user.units[\'officeworker\'].owned}}</td> </tr> <tr> <td><a ng-href="#/tab/dollars">Dollars</a></td> <td style="text-align: right">{{main.user.units[\'dollar\'].owned | floor}}</td> </tr> </table> </div> <div class="content"> <h2>Dollars</h2> <p>}}<br> <br>You have {{main.user.units[\'dollar\'].owned | floor}} Dollars </p><p><i>"My precious!"</i></p> <span ng-if="main.user.isSelling"><button disabled ng-click="main.user.sellFish()">Sell Fish</button></span> <span ng-if="!main.user.isSelling"><button ng-click="main.user.sellFish()">Sell Fish</button></span> <!-- make this work, somehow...\r\n    <flashbutton flashDelay="500" flashOnSuccess="main.user.sellFish()">Sell Fish</flashbutton>\r\n    --> </div>'),a.put("views/dollartab.html",'<div style="width: 20%; float: left; margin-right: 15px"> <table class="table unit-table table-hover"> <tr> <td><a ng-href="#/tab/dollars/officeworker">Office Worker</a></td> <td style="text-align: right">{{main.user.units[\'officeworker\'].owned}}</td> </tr> <tr> <td><a ng-href="#/tab/dollars">Dollars</a></td> <td style="text-align: right">{{main.user.units[\'dollar\'].owned | floor}}</td> </tr> </table> </div>'),a.put("views/fishtab.html",'<!-- TODO: flickers when used\r\n<div style="width: 20%; float: left; margin-right: 15px;" ng-controller="UnitCtrl as unit">\r\n    <table class="table unit-table table-hover">\r\n        <tr class="animate-show" ng-hide="unit.allUnits[\'plane\'].owned < 10">\r\n            <td><a ng-href="#/tab/fish/submarine">Submarines</a></td>\r\n            <td style="text-align: right;">{{unit.owned("submarine") | floor}}</td>\r\n        </tr>\r\n        <tr class="animate-show" ng-hide="unit.allUnits[\'boat\'].owned < 10">\r\n            <td><a ng-href="#/tab/fish/plane">Planes</a></td>\r\n            <td style="text-align: right;">{{unit.owned("plane") | floor}}</td>\r\n        </tr>\r\n        <tr class="animate-show" ng-hide="unit.allUnits[\'fisher\'].owned < 10">\r\n            <td><a ng-href="#/tab/fish/boat">Boats</a></td>\r\n            <td style="text-align: right;">{{unit.owned("boat") | floor}}</td>\r\n        </tr>\r\n        <tr>\r\n            <td><a ng-href="#/tab/fish/fisher">Fisher</a></td>\r\n            <td style="text-align: right;">{{unit.owned("fisher") | floor}}</td>\r\n        </tr>\r\n        <tr>\r\n            <td><a ng-href="#/tab/fish/fish">Fish</a></td>\r\n            <td style="text-align: right;">{{unit.owned("fish") | floor }}</td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n-->'),a.put("views/officeunit.html",'<div style="width: 20%; float: left; margin-right: 15px"> <table class="table unit-table table-hover"> <tr> <td><a ng-href="#/tab/dollars/officeworker">Office Worker</a></td> <td style="text-align: right">{{unit.owned(\'officeworker\')}}</td> </tr> <tr> <td><a ng-href="#/tab/dollars/dollar">Dollars</a></td> <td style="text-align: right">{{unit.owned(\'dollar\') | floor}}</td> </tr> </table> </div> <div class="content"> <h2>{{unit.cur.name}}</h2> <p>{{unit.cur.subtext}}<br> <br>You own {{unit.cur.owned | floor}} {{unit.cur.plural}} <span ng-show="unit.cur.price > 0"> <br>1 Office Worker costs {{unit.cur.price | number:2}} Dollars <br>1 Office Worker sells {{unit.cur.efficiency * (1+unit.cur.pearlupgrades/10) | number:2}} Fish per Second <span ng-show="unit.cur.pearlupgrades > 0">({{unit.cur.pearlupgrades*10}}% Pearl Bonus)</span> <br>In total your Office Worker sell {{unit.cur.owned * unit.cur.efficiency * (1+unit.cur.pearlupgrades/10)| floor}} fish per second </span></p> <p><i>{{unit.cur.quote}}</i></p> <div ng-show="unit.cur.price > 0"> <table> <thead> <th style="text-align: center"> {{unit.getPrice(1) | floor}} </th> <th style="text-align: center"> {{unit.getPrice(10) | floor}} </th> </thead> <tr> <td> <span ng-show="unit.allUnits[\'dollar\'].owned >= unit.getPrice(1)"> <button ng-click="unit.buy(unit.cur, 1)">Buy 1 {{unit.cur.name}}!</button> </span> <span ng-show="unit.allUnits[\'dollar\'].owned < unit.getPrice(1)"> <button disabled>Buy 1 {{unit.cur.name}}!</button> </span> </td> <td> <span ng-show="unit.allUnits[\'dollar\'].owned >= unit.getPrice(10)"> <button ng-click="unit.buy(unit.cur, 10)">Buy 10 {{unit.cur.name}}!</button> </span> <span ng-show="unit.allUnits[\'dollar\'].owned < unit.getPrice(10)"> <button disabled>Buy 10 {{unit.cur.name}}!</button> </span> </td> </tr> </table> </div> <div ng-show="unit.cur.price == undefined"> <button ng-click="unit.sellFish()">Sell Fish!</button> </div> </div>'),a.put("views/options.html",'<div class="content"> <h2>Options</h2> <h5>Your save data:</h5> {{options.saveState}} <button ng-click="options.saveData()">Save to localStorage</button> {{options.saveSuccess}}<br> <button ng-click="options.loadData()">Load from localStorage</button> <p> <h5>Import savegame</h5> <input ng-model="options.importString"><button ng-click="options.import()">Import</button> </p> <p> <h5>Reset</h5> <button ng-click="options.reset()">Reset</button> </p> </div>'),a.put("views/pearltab.html",'<div style="width: 20%; float: left; margin-right: 15px" ng-controller="UnitCtrl as unit"> <table class="table unit-table table-hover"> <tr> <td><a ng-href="#/tab/pearls">Pearls</a></td> <td style="text-align: right">{{unit.owned("pearl") | floor }}</td> </tr> </table> </div> <div class="content" ng-controller="UnitCtrl as unit"> <h2>Pearls</h2> <!-- Spawn the <br> and subtext only if the subtext exists --> <span ng-if="unit.allUnits[\'pearl\'].subtext != \'\'"><p>{{unit.allUnits[\'pearl\'].subtext}}<br></p></span> <br>You own {{unit.allUnits[\'pearl\'].owned | floor}} inactive {{unit.allUnits[\'pearl\'].plural}} <br>You own {{unit.allUnits[\'pearl\'].active | floor}} active {{unit.allUnits[\'pearl\'].plural}}<br> <br>Allows you to buff various units. To activate pearls, you must claim them by restarting the game.<br> <button ng-show="unit.allUnits[\'pearl\'].owned > 0" ng-click="unit.claimPearls()">Claim all inactive Pearls</button> <button disabled ng-show="unit.allUnits[\'pearl\'].owned == 0">Claim all inactive Pearls</button> <table> <thead> <th>Unit</th> <th>Effect</th> <th>Cost</th> <th>Upgrade</th> </thead> <tr ng-repeat="item in unit.allUnits" ng-show="item.pearlupgradecost > 0"> <td>{{item.name}}</td> <td>+{{(item.pearlupgrades)*10}}%</td> <td>{{item.pearlupgradecost}} Pearls</td> <td> <button ng-show="unit.allUnits[\'pearl\'].active >= item.pearlupgradecost" ng-click="unit.upgradeUnitWithPearls(item)">Upgrade 10%</button> <button disabled ng-show="unit.allUnits[\'pearl\'].active < item.pearlupgradecost">Upgrade 10%</button> </td> </tr> </table> </div>'),a.put("views/research.html",'<div class="content-research" ng-controller="ResearchCtrl as research"> <h2>Research</h2> <table> <thead> <th>Unit</th> <th>Cost</th> <th>Effect</th> <th style="text-align: center">Research</th> </thead> <tr ng-repeat="unit in research.units" ng-show="unit.upgradeprice > 0 && unit.unlocked==true"> <td>{{unit.name}}</td> <td>{{unit.upgradeprice | floor}}</td> <td>x{{unit.efficiencyfactor}}</td> <td> <div ng-show="research.units[\'dollar\'].owned >= unit.upgradeprice"> <button ng-click="research.upgradeUnit(unit)">Research</button> </div> <div ng-show="research.units[\'dollar\'].owned < unit.upgradeprice"> <button disabled ng-click="research.upgradeUnit(unit)">Research</button> </div> </td> </tr> </table> <!--\r\n    <div ng-show="research.tierchange" class="animate-show">\r\n      <p><h5>Tier {{research.data.tier}}</h5>\r\n      Unlock everything to advance to the next tier</p>\r\n\r\n\r\n      <table>\r\n        <thead>\r\n        <th>Unit</th>\r\n        <th>Effect</th>\r\n        <th>Cost</th>\r\n        <th>Just do it!<img src="images/minishia.445a73ad.png"></th>\r\n        </thead>\r\n        <tr ng-repeat="item in research.data[\'tier\'+research.data.tier]">\r\n          <td>{{research.units[item.unit].name}}</td>\r\n          <td>{{research.units[item.unit].efficiency}}</td>\r\n          <td>{{research.units[item.unit].upgradeprice | floor}}</td>\r\n          <td>\r\n            <div ng-show="research.units[item.unit].tier == research.data.tier">\r\n              <button ng-click="research.doUpgrade(research.units[item.unit], research.data.tier)">Research!</button>\r\n            </div>\r\n            <div ng-show="research.units[item.unit].tier != research.data.tier">\r\n              <button disabled>Research!</button>\r\n              <span class="glyphicon glyphicon-ok" style="color:green"></span>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n    <!--\r\n        <table>\r\n            <thead>\r\n            <th>Unit</th>\r\n            <th>Effect</th>\r\n            <th>Cost</th>\r\n            <th>Just do it!</th>\r\n            </thead>\r\n            <tr></tr>\r\n            <td>Office Worker</td>\r\n            <td>Increase Office Worker efficiency by 100%</td>\r\n            <td>Cost: 200 Dollars</td>\r\n            <td><button disabled>Research</button><span style="color: green" class="glyphicon glyphicon-ok"></span></td>\r\n            <td><button>Research</button></td>\r\n            <tr></tr>\r\n            <td>Fisher</td>\r\n            <td>Increase Fishing efficiency by 200%</td>\r\n            <td>Cost: 50 Dollars</td>\r\n            <td><button>Research</button></td>\r\n            <tr></tr>\r\n            <td>Boat</td>\r\n            <td>Increase Fishing efficiency by 100%</td>\r\n            <td>Cost: 25 Dollars</td>\r\n            <td><button>Research</button></td>\r\n        </table>\r\n       --> </div>'),a.put("views/statistics.html","<div class=\"content\"> <h2>Statistics</h2> Total Fish caught: {{options.allUnits['fish'].total | floor}} </div>"),a.put("views/unit.html",'<div style="width: 20%; float: left; margin-right: 15px" ng-controller="UnitCtrl as unit"> <table class="table unit-table table-hover"> <tr class="animate-show" ng-hide="unit.allUnits[\'submarine\'].owned < 10"> <td><a ng-href="#/tab/fish/nuke">Nukes</a></td> <td style="text-align: right">{{unit.owned("nuke") | floor}}</td> </tr> <tr class="animate-show" ng-hide="unit.allUnits[\'plane\'].owned < 10"> <td><a ng-href="#/tab/fish/submarine">Submarines</a></td> <td style="text-align: right">{{unit.owned("submarine") | floor}}</td> </tr> <tr class="animate-show" ng-hide="unit.allUnits[\'robot\'].owned < 10"> <td><a ng-href="#/tab/fish/plane">Planes</a></td> <td style="text-align: right">{{unit.owned("plane") | floor}}</td> </tr> <tr class="animate-show" ng-hide="unit.allUnits[\'boat\'].owned < 10"> <td><a ng-href="#/tab/fish/robot">Robots</a></td> <td style="text-align: right">{{unit.owned("robot") | floor}}</td> </tr> <tr class="animate-show" ng-hide="unit.allUnits[\'dynamite\'].owned < 10"> <td><a ng-href="#/tab/fish/boat">Boats</a></td> <td style="text-align: right">{{unit.owned("boat") | floor}}</td> </tr> <tr class="animate-show" ng-hide="unit.allUnits[\'fisher\'].owned < 10"> <td><a ng-href="#/tab/fish/dynamite">Dynamite</a></td> <td style="text-align: right">{{unit.owned("dynamite") | floor}}</td> </tr> <tr> <td><a ng-href="#/tab/fish/fisher">Fisher</a></td> <td style="text-align: right">{{unit.owned("fisher") | floor}}</td> </tr> <tr> <td><a ng-href="#/tab/fish/fish">Fish</a></td> <td style="text-align: right">{{unit.owned("fish") | floor }}</td> </tr> </table> </div> <div class="content" ng-controller="UnitCtrl as unit"> <h2>{{unit.cur.name}}</h2> <!-- Spawn the <br> and subtext only if the subtext exists --> <span ng-if="unit.cur.subtext != \'\'"><p>{{unit.cur.subtext}}<br></p></span> <br>You own {{unit.cur.owned | floor}} {{unit.cur.plural}} <span ng-if="unit.cur.price > 0"> <br>1 {{unit.cur.name}} costs {{unit.cur.price | floorspecial}} Dollars </span> <span ng-if="unit.cur.efficiency > 0"> <br>1 {{unit.cur.name}} catches {{unit.cur.efficiency * (1+unit.cur.pearlupgrades/10) | number:2}} Fish every 1 seconds <span ng-show="unit.cur.pearlupgrades > 0">({{unit.cur.pearlupgrades*10}}% Pearl Bonus)</span> </span> <span ng-if="unit.cur.efficiency > 0"> <br>In total your {{unit.cur.plural}} catch {{unit.cur.owned * unit.cur.efficiency * (1+unit.cur.pearlupgrades/10)| floor}} fish per second </span> <br> <p><i>"{{unit.cur.quote}}"</i></p> <span ng-if="unit.cur.price > 0"> <table> <thead> <th style="text-align: center"> {{unit.getPrice(1) | floor}} </th> <th style="text-align: center"> {{unit.getPrice(10) | floor}} </th> </thead> <tr> <td> <span ng-show="unit.allUnits[\'dollar\'].owned >= unit.getPrice(1)"> <button ng-click="unit.buy(unit.cur, 1)">Buy 1 {{unit.cur.name}}!</button> </span> <span ng-show="unit.allUnits[\'dollar\'].owned < unit.getPrice(1)"> <button disabled>Buy 1 {{unit.cur.name}}!</button> </span> </td> <td> <span ng-show="unit.allUnits[\'dollar\'].owned >= unit.getPrice(10)"> <button ng-click="unit.buy(unit.cur, 10)">Buy 10 {{unit.cur.name}}!</button> </span> <span ng-show="unit.allUnits[\'dollar\'].owned < unit.getPrice(10)"> <button disabled>Buy 10 {{unit.cur.name}}!</button> </span> </td> </tr> </table> </span> <!-- Straight up hack to get the fishing button to show up on the fishing page --> <span ng-if="unit.cur.price == 0" ng-controller="MainCtrl as main"> <span ng-if="main.user.isFishing"><button disabled>Go Fish!</button></span> <span ng-if="!main.user.isFishing"><button ng-click="main.user.goFish()">Go Fish!</button></span> </span> </div>')}]);