(function(){"use strict";angular.module("incrementalApp",["ngAnimate","ngRoute"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/fisher.html",controller:"MainCtrl",controllerAs:"main"}).when("/tab/fish/fish",{templateUrl:"views/fish.html",controller:"MainCtrl",controllerAs:"main"}).when("/tab/fish/boat",{templateUrl:"views/boat.html",controller:"MainCtrl",controllerAs:"main"}).when("/tab/fish/plane",{templateUrl:"views/plane.html",controller:"MainCtrl",controllerAs:"main"}).when("/tab/fish/submarine",{templateUrl:"views/submarine.html",controller:"MainCtrl",controllerAs:"main"}).when("/tab/dollars",{templateUrl:"views/dollars.html",controller:"MainCtrl",controllerAs:"main"}).when("/tab/dollars/officeworker",{templateUrl:"views/officeworker.html",controller:"MainCtrl",controllerAs:"main"}).when("/tab/research",{templateUrl:"views/research.html",controller:"MainCtrl",controllerAs:"main"}).when("/tab/options",{templateUrl:"views/options.html",controller:"OptionsCtrl",controllerAs:"options"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("incrementalApp").controller("MainCtrl",["game","user",function(a,b){this.user=b}])}.call(this),function(){"use strict";angular.module("incrementalApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]})}.call(this),function(){"use strict";var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("incrementalApp").factory("user",["$log","$timeout","$filter",function(b,c,d){var e;return new(e=function(){function e(){this.addOneFish=a(this.addOneFish,this),this.init=a(this.init,this),this.init()}var f,g;return e.prototype.init=function(){return this.version="0.01",this.fish=0,this.dollars=0,this.fishPerSec="(+0/sec)",this.fisher=0,this.fisherPrice=10,this.fisherEfficiency=.02,this.fisherUpgradePrice=200,this.boats=0,this.boatPrice=100,this.boatEfficiency=.2,this.boatUpgradePrice=1e3,this.planes=0,this.planePrice=1e3,this.planeEfficiency=2,this.planeUpgradePrice=1e4,this.submarines=0,this.submarinePrice=1e4,this.submarineEfficiency=15,this.submarineUpgradePrice=1e5,this.officeWorkers=0,this.officeWorkerPrice=20,this.officeWorkerEfficiency=1,this.officeWorkerUpgradePrice=115,this.isFishing=!1,this.researchAvailable=!0,this.sellTenFishPrice=2e3,this.sellTenFishAvailable=!1,b.debug("User creation finished.")},e.prototype.updateFishPerSec=function(){var a;return a=d("floor")(10*this.fisherEfficiency*this.fisher),a+=d("floor")(10*this.boatEfficiency*this.boats),a+=d("floor")(10*this.planeEfficiency*this.planes),a+=d("floor")(10*this.submarineEfficiency*this.submarines),this.fishPerSec="(+"+a+"/sec)"},e.prototype.sellTenFishUpgradeBought=function(){return this.dollars-this.sellTenFishPrice<0?void 0:(this.dollars-=this.sellTenFishPrice,this.sellTenFishAvailable=!0)},e.prototype.buyOneFisher=function(){return this.dollars-this.fisherPrice<0?this.fisher:(this.dollars=this.dollars-this.fisherPrice,this.fisherPrice=1.1*this.fisherPrice,this.fisher+=1)},e.prototype.buyOneBoat=function(){return this.dollars-this.boatPrice<0?this.boat:(this.dollars=this.dollars-this.boatPrice,this.boatPrice=1.14*this.boatPrice,this.boats+=1)},e.prototype.buyOneSubmarine=function(){return this.dollars-this.submarinePrice<0?this.submarines:(this.dollars=this.dollars-this.submarinePrice,this.submarinePrice=1.07*this.submarinePrice,this.submarines+=1)},e.prototype.buyOnePlane=function(){return this.dollars-this.planePrice<0?this.plane:(this.dollars=this.dollars-this.planePrice,this.planePrice=1.25*this.planePrice,this.planes+=1)},e.prototype.buyOneOfficeWorker=function(){return this.dollars-this.officeWorkerPrice<0?this.officeWorkers:(this.dollars=this.dollars-this.officeWorkerPrice,this.officeWorkerPrice=1.05*this.officeWorkerPrice,this.officeWorkers+=1)},g=null,f=3,e.isFishing=!1,e.prototype.goFish=function(){return c.cancel(g),this.isFishing=!0,g=c(this.addOneFish,1e3)},e.prototype.addOneFish=function(){return this.fish+=1,b.debug("fish = "+this.fish),g=null,this.isFishing=!1},e.prototype.sellFish=function(){return this.fish-1>=0?(this.fish-=1,this.dollars+=1):void 0},e.prototype.sellTenFish=function(){return this.fish-10>=0?(this.fish-=10,this.dollars+=10):void 0},e.prototype.upgradeFishers=function(){return this.dollars-this.fisherUpgradePrice<0?void 0:(this.dollars=this.dollars-this.fisherUpgradePrice,this.fisherEfficiency=2*this.fisherEfficiency,this.fisherUpgradePrice=7.5*this.fisherUpgradePrice)},e.prototype.upgradeOfficeWorkers=function(){return this.dollars-this.officeWorkerUpgradePrice<0?void 0:(this.dollars=this.dollars-this.officeWorkerUpgradePrice,this.officeWorkerEfficiency=1.5*this.officeWorkerEfficiency,this.officeWorkerUpgradePrice=4*this.officeWorkerUpgradePrice)},e.prototype.upgradeBoats=function(){return this.dollars-this.boatUpgradePrice<0?void 0:(this.dollars=this.dollars-this.boatUpgradePrice,this.boatEfficiency=2*this.boatEfficiency,this.boatUpgradePrice=10*this.boatUpgradePrice)},e.prototype.upgradePlanes=function(){return this.dollars-this.planeUpgradePrice<0?void 0:(this.dollars-=this.planeUpgradePrice,this.planeEfficiency=2*this.planeEfficiency,this.planeUpgradePrice=10*this.planeUpgradePrice)},e.prototype.canAffordUpgrades=function(){return this.dollars>this.fisherUpgradePrice||this.dollars>this.boatUpgradePrice||this.dollars>this.officeWorkerUpgradePrice||this.dollars>this.sellTenFishPrice&&!this.sellTenFishAvailable?this.researchAvailable=!0:this.researchAvailable=!1},e}())}])}.call(this),function(){"use strict";angular.module("incrementalApp").factory("game",["user","$interval","$log",function(a,b,c){var d;return new(d=function(){function c(a){this.user=a,b(d,1e3/g),b(e,1e3)}var d,e,f,g;return g=10,f=new Date,d=function(){var b,c,d,e,g;return g=new Date-f,f=new Date,a.canAffordUpgrades(),a.updateFishPerSec(),c=a.fisher*a.fisherEfficiency*(g/100),a.fish+=c,b=a.boats*a.boatEfficiency*(g/100),a.fish+=b,d=a.planes*a.planeEfficiency*(g/100),a.fish+=d,e=a.submarines*a.submarineEfficiency*(g/100),a.fish+=e},e=function(){return a.officeWorkers<=0?void 0:a.fish-a.officeWorkers*a.officeWorkerEfficiency<0?(a.dollars+=a.fish,a.fish=0):(a.fish-=a.officeWorkers*a.officeWorkerEfficiency,a.dollars+=a.officeWorkers*a.officeWorkerEfficiency)},c}())}])}.call(this),function(){"use strict";angular.module("incrementalApp").directive("fishtab",function(){return{templateUrl:"views/fishtab.html",restrict:"E"}})}.call(this),function(){"use strict";angular.module("incrementalApp").directive("dollartab",function(){return{restrict:"E",templateUrl:"views/dollartab.html"}})}.call(this),function(){"use strict";angular.module("incrementalApp").filter("floor",function(){return function(a){var b,c,d,e;if(c=["K","M","B","t","q","Q","s","S"],e=Math.floor(a),b=-1,d=1e3,1>e/d)return e;for(;;)if(e/=d,b+=1,!(e>=1e3))break;return e.toPrecision(3)+c[b]}})}.call(this),function(){"use strict";var a={}.hasOwnProperty;angular.module("incrementalApp").controller("OptionsCtrl",["user","$log",function(b,c){var d;this.importString="Enter save data",this.saveSuccess="",d=JSON.stringify(b),this.saveState=LZString.compressToEncodedURIComponent(d),this.saveData=function(){return localStorage.setItem("fishgame",this.saveState),this.saveSuccess="That worked...maybe"},this.loadData=function(){return this.importString=localStorage.getItem("fishgame"),this["import"]()},this["import"]=function(){var a;return a=LZString.decompressFromEncodedURIComponent(this.importString),a=JSON.parse(a),this.importSave(a)},this.importSave=function(c){var d,e,f,g,h,i,j;for(h=[c],i=[],d=0,f=h.length;f>d;d++)g=h[d],i.push(function(){var c;c=[];for(e in g)a.call(g,e)&&(j=g[e],c.push(b[e]=j));return c}());return i},this.reset=function(){return b.init()}}])}.call(this),angular.module("incrementalApp").run(["$templateCache",function(a){"use strict";a.put("views/about.html",""),a.put("views/boat.html",'<fishtab> </fishtab> <div class="content"> <h2>Boat</h2> <p>A powerful boat that roams the ocean for you.<br> <br>You own {{main.user.boats}} Boats <br>1 Boat costs {{main.user.boatPrice | number:2}} Dollars <br>1 Boat catches {{main.user.boatEfficiency * 10}} Fish every second <br>In total your Boats catch {{main.user.boats * main.user.boatEfficiency * 10 | floor}} fish per second</p> <p><i>"Well I\'m on the Downeaster Alexa"</i></p> <button ng-click="main.user.buyOneBoat()">Buy 1 Boat!</button> </div>'),a.put("views/dollars.html",'<dollartab></dollartab> <div class="content"> <h2>Dollars</h2> <p>Money makes the world go round.<br> <br>You have {{main.user.dollars | floor}} Dollars </p><p><i>"My precious!"</i></p> <button ng-click="main.user.sellFish()">Sell Fish</button> <button ng-show="main.user.sellTenFishAvailable" ng-click="main.user.sellTenFish()">Sell 10 Fish</button> </div>'),a.put("views/dollartab.html",'<div style="width: 20%; float: left; margin-right: 15px"> <table class="table unit-table table-hover"> <tr> <td><a href="#/tab/dollars/officeworker">Office Worker</a></td> <td style="text-align: right">{{main.user.officeWorkers}}</td> </tr> <tr> <td><a href="#/tab/dollars">Dollars</a></td> <td style="text-align: right">{{main.user.dollars | floor}}</td> </tr> </table> </div>'),a.put("views/fish.html",'<fishtab>\r\n\r\n</fishtab>\r\n<div class="content">\r\n  <h2>Fish</h2>\r\n\r\n  <p>The fish that swims in the ocean. Always hungry. Maybe it will bite today.\r\n\r\n    <br>You own {{main.user.fish | floor}} fishes\r\n\r\n  <p><i>"<Â°))----<</i>"</p>\r\n  <button ng-click="main.user.goFish()">Go Fish</button>\r\n  <div ng-show="main.user.isFishing==true">Fishing...</div>\r\n</div>\r\n'),a.put("views/fisher.html",'<fishtab> </fishtab> <div class="content"> <h2>Fisher</h2> <p>The fellow that catches the fish from the depths of the oceans. He is <b>very slow</b> but he never tires.<br> <br>You own {{main.user.fisher}} Fisher <br>1 Fisher costs {{main.user.fisherPrice | number:2}} Dollars <br>1 Fisher catches {{main.user.fisherEfficiency * 10}} Fish every 1 seconds <br>In total your Fisher catch {{main.user.fisher * main.user.fisherEfficiency * 10 | floor}} fish per second</p> <p><i>"Meh, let\'s go fishing!"</i></p> <button ng-click="main.user.buyOneFisher()">Buy 1 Fisher!</button> </div>'),a.put("views/fishtab.html",'<div style="width: 20%; float: left; margin-right: 15px"> <table class="table unit-table table-hover"> <tr ng-hide="main.user.planes < 10"> <td><a href="#/tab/fish/submarine">Submarines</a></td> <td style="text-align: right">{{main.user.submarines | floor}}</td> </tr> <tr ng-hide="main.user.boats < 10"> <td><a href="#/tab/fish/plane">Planes</a></td> <td style="text-align: right">{{main.user.planes | floor}}</td> </tr> <tr ng-hide="main.user.fisher < 10"> <td><a href="#/tab/fish/boat">Boats</a></td> <td style="text-align: right">{{main.user.boats | floor}}</td> </tr> <tr> <td><a href="#/tab/fish/fisher">Fisher</a></td> <td style="text-align: right">{{main.user.fisher | floor}}</td> </tr> <tr> <td><a href="#/tab/fish/fish">Fish</a></td> <td style="text-align: right">{{main.user.fish | floor }}</td> </tr> </table> </div>'),a.put("views/officeworker.html",'<dollartab></dollartab> <div class="content"> <h2>Office Worker</h2> <p>Working 9 to 5 this guy automatically sells your fish.<br> <br>You own {{main.user.officeWorkers}} Office Workers <br>1 Office Worker costs {{main.user.officeWorkerPrice | number:2}} Dollars <br>1 Office Worker sells {{main.user.officeWorkerEfficiency}} Fish per Second <br>In total your Office Worker sell {{main.user.officeWorkers * main.user.officeWorkerEfficiency | floor}} fish per second</p> <p><i>"God I hate this job!"</i></p> <button ng-click="main.user.buyOneOfficeWorker()">Buy 1 Worker!</button> </div>'),a.put("views/options.html",'<div class="content"> <h2>Options</h2> <p> <h5>Your save data:</h5> {{options.saveState}}</p> <button ng-click="options.saveData()">Save to localStorage</button> {{options.saveSuccess}}<br> <button ng-click="options.loadData()">Load from localStorage</button> <p> <h5>Import savegame</h5> <input ng-model="options.importString"><button ng-click="options.import()">Import</button> </p> <p> <h5>Reset</h5> <button ng-click="options.reset()">Reset</button> </p> </div>'),a.put("views/plane.html",'<fishtab> </fishtab> <div class="content"> <h2>Plane</h2> <p>The latest in fishing technology.<br> <br>You own {{main.user.planes}} Planes <br>1 Plane costs {{main.user.planePrice | number:2}} Dollars <br>1 Plane catches {{main.user.planeEfficiency * 10}} Fish every second <br>In total your Planes catch {{main.user.planes * main.user.planeEfficiency * 10 | floor}} fish per second</p> <p><i>"How does this even work?!"</i></p> <button ng-click="main.user.buyOnePlane()">Buy 1 Plane!</button> </div>'),a.put("views/research.html",'<div class="content"> <h2>Research</h2> <table> <td ng-show="main.user.dollars > main.user.fisherUpgradePrice"> <button ng-click="main.user.upgradeFishers()">E-Fish-Ency</button> <br>Fisher fish 100% faster<br> Cost: {{main.user.fisherUpgradePrice | floor}} Dollars </td> <tr></tr> <td ng-show="main.user.dollars > main.user.officeWorkerUpgradePrice"> <button ng-click="main.user.upgradeOfficeWorkers()">Of-Fish-Ency</button> <br>Office Worker sell 50% faster<br> Cost: {{main.user.officeWorkerUpgradePrice | floor}} Dollars </td> <tr></tr> <td ng-show="main.user.dollars > main.user.boatUpgradePrice"> <button ng-click="main.user.upgradeBoats()">Boat-Fish-Ency</button> <br>Boat fish 100% faster<br> Cost: {{main.user.boatUpgradePrice | floor}} Dollars </td> <tr></tr> <td ng-show="main.user.dollars > main.user.sellTenFishPrice && !main.user.sellTenFishAvailable"> <button ng-click="main.user.sellTenFishUpgradeBought()">Ten-Fishency</button> <br>Sell 10 fish at once!<br> Cost: {{main.user.sellTenFishPrice | floor}} Dollars </td> <tr></tr> <td ng-show="main.user.dollars > main.user.planeUpgradePrice"> <button ng-click="main.user.upgradePlanes()">Plane-Fishency</button> <br>Planes fish 100% faster<br> Cost: {{main.user.planeUpgradePrice | floor}} Dollars </td> </table> <!--\n  <table>\n    <th>\n      <button ng-click="main.user.upgradeFishers()">E-Fish-Ency</button>\n    </th>\n\n    <tr>\n      Fisher fish faster by 100%\n      <br>Cost: {{main.user.fisherUpgradePrice}} Dollars\n    </tr>\n\n    <tr>\n      Office Worker work 100% faster\n      <br>Cost: {{main.user.fisherUpgradePrice}} Dollars\n    </tr>\n\n  </table>\n--> </div>'),a.put("views/submarine.html",'<fishtab> </fishtab> <div class="content"> <h2>Submarine</h2> <p>The worlds best submarine captains.<br> <br>You own {{main.user.submarines}} submarine <br>1 submarine costs {{main.user.submarinePrice | number:2}} Dollars <br>1 submarine catches {{main.user.submarineEfficiency * 10}} Fish every second <br>In total your submarines catch {{main.user.submarines * main.user.submarineEfficiency * 10 | floor}} fish per second</p> <p><i>"Re-verify our range to target... one ping only."</i></p> <button ng-click="main.user.buyOneSubmarine()">Buy 1 Submarine!</button> </div>')}]);